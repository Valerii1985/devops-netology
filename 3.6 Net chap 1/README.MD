#Домашнее задание к занятию "3.6. Компьютерные сети, лекция 1"
#1. Необязательное задание: можно посмотреть целый фильм в консоли telnet towel.blinkenlights.nl :)

#2. Узнайте о том, сколько действительно независимых (не пересекающихся) каналов есть в разделяемой среде WiFi при работе на 2.4 ГГц. Стандарты с полосой 5 ГГц более актуальны, но регламенты на 5 ГГц существенно различаются в разных странах, а так же не раз обновлялись. В качестве дополнительного вопроса вне зачета, попробуйте найти актуальный ответ и на этот вопрос.
Не пересекающихся каналов на частоте 2.4ГГц - 3
#3. Адрес канального уровня – MAC адрес – это 6 байт, первые 3 из которых называются OUI – Organizationally Unique Identifier или уникальный идентификатор организации. Какому производителю принадлежит MAC 38:f9:d3:55:55:79?
Apple, Inc
#4. Каким будет payload TCP сегмента, если Ethernet MTU задан в 9001 байт, размер заголовков IPv4 – 20 байт, а TCP – 32 байта?
Если я все правильно понял, это параметр MSS(MTU - packet headers). В данном примере это 8949 байт
#5. Может ли во флагах TCP одновременно быть установлены флаги SYN и FIN при штатном режиме работы сети? Почему да или нет?
При штатном режиме оба флага не могут быть установлены, потому что SYN представляет собой установление соединения, а FIN завершает соединение. Но нашел информацию, что оба флага могут использоваться вместе для хакерских атак. Выдержка из статьи: "самым последним вариантом этой атаки была атака на переполнение буфера против службы SSH, проведенная в декабре 2001 года. Установка флагов SYN и FIN позволяет пакету пройти через статический фильтр пакетов, так как такие фильтры блокируют только SYN-пакеты. Однако если такой пакет поступит на открытый порт Windows или UNIX-системы, то в ответ будет отправлен SYN/ACK-пакет. Это просто находка для хакера, ведь он может проникнуть сквозь периметр и скомпрометировать нужную систему."
#6. ss -ula sport = :53 на хосте имеет следующий вывод:
<pre>
State           Recv-Q          Send-Q                   Local Address:Port                     Peer Address:Port          Process
UNCONN          0               0                        127.0.0.53%lo:domain                        0.0.0.0:* </pre>
###Почему в State присутствует только UNCONN, и может ли там присутствовать, например, TIME-WAIT?
ключ -u выводит информацию об udp.  UCONN (без подключения), потому что UDP является протоколом без установления соединения и, следовательно, не имеет состояний, подобных состояниям TCP
#7.Обладая знаниями о том, как штатным образом завершается соединение (FIN от инициатора, FIN-ACK от ответчика, ACK от инициатора), опишите в каких состояниях будет находиться TCP соединение в каждый момент времени на клиенте и на сервере при завершении. Схема переходов состояния соединения вам в этом поможет.
Клиент: ESTABLISHED -> FIN_WAIT_1 -> FIN_WAIT_2 -> TIME_WAIT -> CLOSED

Сервер: ESTABLISHED -> CLOSE_WAIT -> LAST_ACK -> CLOSED
#8.TCP порт – 16 битное число. Предположим, 2 находящихся в одной сети хоста устанавливают между собой соединения. Каким будет теоретическое максимальное число соединений, ограниченное только лишь параметрами L4, которое параллельно может установить клиент с одного IP адреса к серверу с одним IP адресом? Сколько соединений сможет обслужить сервер от одного клиента? А если клиентов больше одного?
Теоретически максимальное число соединений к серверу от одного клиента на один порт равно 65535. Теоретический предел одновременного подключения нескольких пользователей примерно равен 1 квадриллиону (1 000 000 000 000 000). Эксперементально достич одновременного подключения 2млн пользователей удалось: Фреймворку Phoenix и WhatsApp.
#9. Может ли сложиться ситуация, при которой большое число соединений TCP на хосте находятся в состоянии TIME-WAIT? Если да, то является ли она хорошей или плохой? Подкрепите свой ответ пояснением той или иной оценки.
Может, при постоянном отключении и подключении. Ситуация скорее плоха, т.к. в скором времени закончатся ресурсы и/или свободные порты. 
#10. Чем особенно плоха фрагментация UDP относительно фрагментации TCP?
Когда потерялся фрагмент из TCP сегмента, TCP отработает тайм-аут и повторно передаст TCP сегмент целиком (IP датаграмма). UDP 
Если бы вы строили систему удаленного сбора логов, то есть систему, в которой несколько хостов отправяют на центральный узел генерируемые приложениями логи (предположим, что логи – текстовая информация), какой протокол транспортного уровня вы выбрали бы и почему? Проверьте ваше предположение самостоятельно, узнав о стандартном протоколе syslog.

Сколько портов TCP находится в состоянии прослушивания на вашей виртуальной машине с Ubuntu, и каким процессам они принадлежат?

Какой ключ нужно добавить в tcpdump, чтобы он начал выводить не только заголовки, но и содержимое фреймов в текстовом виде? А в текстовом и шестнадцатиричном?

Попробуйте собрать дамп трафика с помощью tcpdump на основном интерфейсе вашей виртуальной машины и посмотреть его через tshark или Wireshark (можно ограничить число пакетов -c 100). Встретились ли вам какие-то установленные флаги Internet Protocol (не флаги TCP, а флаги IP)? Узнайте, какие флаги бывают. Как на самом деле называется стандарт Ethernet, фреймы которого попали в ваш дамп? Можно ли где-то в дампе увидеть OUI?

