# devops-netology
# Домашнее задание к занятию "3.2. Работа в терминале, лекция 2"

# 1.Какого типа команда cd? Попробуйте объяснить, почему она именно такого типа; опишите ход своих мыслей, если считаете что она могла бы быть другого типа.

`    `"type -a cd" - является встроенной в оболочку. В любой оболочке должен быть набор элементарных команд работы с файлами и каталогами, коей и является команда CD.

# 2.Какая альтернатива без pipe команде grep <some_string> <some_file> | wc -l? man grep поможет в ответе на этот вопрос. Ознакомьтесь с документом о других подобных некорректных вариантах использования pipe.

`    `grep -c <some_string> <some_file>

# 3.Какой процесс с PID 1 является родителем для всех процессов в вашей виртуальной машине Ubuntu 20.04?

`    `systemd

# 4.Как будет выглядеть команда, которая перенаправит вывод stderr ls на другую сессию терминала?

`    `ls unknown_file 2> /dev/pts/2

# 5.Получится ли одновременно передать команде файл на stdin и вывести ее stdout в другой файл? Приведите работающий пример.

`    `Да. cat `<`file1 >file2

# 6.Получится ли находясь в графическом режиме, вывести данные из PTY в какой-либо из эмуляторов TTY? Сможете ли вы наблюдать выводимые данные?

`    `Да

# 7.Выполните команду bash 5>&1. К чему она приведет? Что будет, если вы выполните echo netology > /proc/$$/fd/5? Почему так происходит?

`    `bash 5>&1 - создает дескриптор 5 и перенаправляет его в stdout

`    `echo netology > /proc/$$/fd/5 - результат ошибка, т.к. дескриптор 5 был уже пернеаправлен в stdout

# 8.Получится ли в качестве входного потока для pipe использовать только stderr команды, не потеряв при этом отображение stdout на pty? Напоминаем: по умолчанию через pipe передается только stdout команды слева от | на stdin команды справа. Это можно сделать, поменяв стандартные потоки местами через промежуточный новый дескриптор, который вы научились создавать в предыдущем вопросе.

`    `Да. Получится. ls -l 5>&2 2>&1 1>&5 | ls -l

# 9.Что выведет команда cat /proc/$$/environ? Как еще можно получить аналогичный по содержанию вывод?

`    `Переменные среды. Альтернативная команда: printenv

# 10.Используя man, опишите что доступно по адресам /proc/<PID>/cmdline, /proc/<PID>/exe.

`    `/proc/`<PID>`/cmdline - В этом файле хранится командная строка, которой был запущен данный процесс

`    `/proc/`<PID>`/exe - представляет собой символическую ссылку на исполняемый файл, который инициировал запуск процесса

# 11.Узнайте, какую наиболее старшую версию набора инструкций SSE поддерживает ваш процессор с помощью /proc/cpuinfo

`    `Для процессора Apple M1 информации о SSE нет
# 12.При открытии нового окна терминала и vagrant ssh создается новая сессия и выделяется pty. Это можно подтвердить командой tty, которая упоминалась в лекции 3.2. Однако:

#vagrant@netology1:~$ ssh localhost 'tty'
#not a tty
#Почитайте, почему так происходит, и как изменить поведение.

`    `При подключении через SSH не запускается TTY для общения с пользователем, поэтому нужно создать псевдотерминал, добавив атрибут -t

ssh -t
# 13. Бывает, что есть необходимость переместить запущенный процесс из одной сессии в другую. Попробуйте сделать это, воспользовавшись reptyr. Например, так можно перенести в screen процесс, который вы запустили по ошибке в обычной SSH-сессии.

`    `Использую ubuntu 20.04.3 К сожалению так и не смог установить пакет reptyr по всей видимости из-за обновленной версии ubuntu. Смысл команды reptyr <PID> изучил и понял.

# 14.sudo echo string > /root/new_file не даст выполнить перенаправление под обычным пользователем, так как перенаправлением занимается процесс shell'а, который запущен без sudo под вашим пользователем. Для решения данной проблемы можно использовать конструкцию echo string | sudo tee /root/new_file. Узнайте что делает команда tee и почему в отличие от sudo echo команда с sudo tee будет работать.

`    `Команда tee читает из стандартного ввода(stdin) и записывает как в стандартный вывод(stdout), в один или несколько файлов одновременно. В задании Tee получает вывод команды echo, повышает права на sudo и записывает в файл.